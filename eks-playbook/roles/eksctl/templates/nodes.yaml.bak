# Node group sys-eks
  - name: sys-eks
    labels: {pool: sys-eks}
    desiredCapacity: 1
    minSize: 1
    maxSize: 5
    volumeSize: 25
    volumeType: gp2
    instancesDistribution:
        instanceTypes: ['t3.small', 't2.small'] # At least two instance types should be specified
        onDemandBaseCapacity: 1
        onDemandPercentageAboveBaseCapacity: 10
        spotInstancePools: 5
    iam:
      withAddonPolicies:
        autoScaler: true
    privateNetworking: true
    #securityGroups:
    #  withShared: true
    #  withLocal: true
    #  attachIDs: ['sg-0a2eddda3e121b2bd']
    #ssh: # use existing EC2 key
    #  publicKeyName: pub_key
    tags:
      'App': 'eks'
      'Env': 'prod'
      'Name': 'eks-sys-eks'
      'Project': 'esputnik'
# Node group backend
  - name: backend
    labels: {pool: backend}
    desiredCapacity: 5
    minSize: 5
    maxSize: 16
    volumeSize: 30
    volumeType: gp2
    instancesDistribution:
        instanceTypes: ['m5.large', 't3.large', 'm4.large'] # At least two instance types should be specified
        onDemandBaseCapacity: 1
        onDemandPercentageAboveBaseCapacity: 25
        spotInstancePools: 5
    iam:
      withAddonPolicies:
        autoScaler: true
    privateNetworking: true
    #securityGroups:
    #  withShared: true
    #  withLocal: true
    #  attachIDs: ['sg-0a2eddda3e121b2bd']
    #ssh: # use existing EC2 key
    #  publicKeyName: pub_key
    tags:
      'App': 'eks'
      'Env': 'prod'
      'Name': 'eks-backend'
      'Project': 'esputnik'
# Node group private-ingress
  - name: private-ingress
    labels: {pool: private-ingress}
    desiredCapacity: 2
    minSize: 2
    maxSize: 5
    volumeSize: 10
    volumeType: gp2
    instancesDistribution:
        instanceTypes: ['c5.large', 't3.medium'] # At least two instance types should be specified
        onDemandBaseCapacity: 1
        onDemandPercentageAboveBaseCapacity: 10
        spotInstancePools: 5
    iam:
      withAddonPolicies:
        autoScaler: true
    privateNetworking: true
    #securityGroups:
    #  withShared: true
    #  withLocal: true
    #  attachIDs: ['sg-0a2eddda3e121b2bd']
    #ssh: # use existing EC2 key
    #  publicKeyName: pub_key
    tags:
      'App': 'eks-ingress'
      'Env': 'prod'
      'Name': 'eks-private-ingress'
      'Project': 'esputnik'